(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4418],{67831:function(c,a,b){"use strict";var d,e=b(2784);function f(){return(f=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}a.Z=function(a){return e.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:12,height:9,fill:"none",viewBox:"0 0 15 9"},a),d||(d=e.createElement("path",{stroke:"#797979",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M2 2l5.5 5.5L13 2"})))}},93726:function(c,a,b){"use strict";var d,e,f,g,h=b(2784);function i(){return(i=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}a.Z=function(a){return h.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",viewBox:"0 0 15 16"},a),d||(d=h.createElement("path",{fill:"#275AE6",stroke:"#275AE6",strokeWidth:.6,d:"M3.676 8c0 1.182.962 2.144 2.144 2.144A2.147 2.147 0 007.964 8 2.146 2.146 0 005.82 5.856 2.146 2.146 0 003.676 8zM6.9 8a1.081 1.081 0 11-2.162 0A1.081 1.081 0 016.9 7.999z"})),e||(e=h.createElement("path",{fill:"#275AE6",stroke:"#275AE6",strokeWidth:.6,d:"M6.919 8c0 .293.238.53.532.53h6.308a.53.53 0 100-1.062H7.451a.532.532 0 00-.532.531zM1 8c0 .293.238.53.532.53h2.676a.53.53 0 100-1.062H1.532A.532.532 0 001 7.999zm6.326-4.856c0 1.183.962 2.145 2.144 2.145a2.147 2.147 0 002.145-2.145A2.147 2.147 0 009.47 1a2.147 2.147 0 00-2.144 2.144zm3.226 0c0 .597-.485 1.082-1.082 1.082a1.081 1.081 0 111.082-1.082z"})),f||(f=h.createElement("path",{fill:"#275AE6",stroke:"#275AE6",strokeWidth:.6,d:"M10.552 3.144c0 .293.238.531.531.531h2.676a.532.532 0 100-1.063h-2.676a.532.532 0 00-.531.532zM1 3.144c0 .293.238.531.532.531H7.84a.532.532 0 100-1.063H1.532A.532.532 0 001 3.144zm6.326 9.711c0 1.183.962 2.145 2.144 2.145a2.147 2.147 0 002.145-2.145 2.147 2.147 0 00-2.145-2.144 2.147 2.147 0 00-2.144 2.144zm3.226 0a1.081 1.081 0 11-2.162 0 1.081 1.081 0 012.162 0z"})),g||(g=h.createElement("path",{fill:"#275AE6",stroke:"#275AE6",strokeWidth:.6,d:"M10.552 12.855c0 .293.238.531.531.531h2.676a.532.532 0 100-1.063h-2.676a.532.532 0 00-.531.532zm-9.552 0c0 .293.238.531.532.531H7.84a.532.532 0 100-1.063H1.532a.532.532 0 00-.532.532z"})))}},28883:function(l,b,a){"use strict";a.d(b,{Z:function(){return ax}});var m,n,o=a(52322),p=a(2784),c=a(85849),q=a.n(c),r=a(5632),s=a(85308),d=a(72779),t=a.n(d),u=a(24430),v=a(51995),e=a(94776),w=a.n(e),x=a(63397),f=a(53354),y=a.n(f),z=a(99151),g=a(49604),A=a.n(g),B=a(77209),C=a(4628),D=a(32099),E=a(20803),F=a(93902),G=a(50301),H=a(5863),h=a(93281),I=a.n(h),J=function(a){var b=a.children,c=a.className;return(0,o.jsx)("div",{className:t()(I().fieldWrapper,c),children:b})};function K(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function L(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){K(g,e,f,d,h,"next",a)}function h(a){K(g,e,f,d,h,"throw",a)}d(void 0)})}}function M(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function N(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){M(d,a,c[a])})}return d}var O=function(h){var M,O,P=h.formik,T=h.isActive,c=(0,s.$G)(["common"]).t,i=(0,p.useContext)(C.I),j=i.recentTransporterCitySearches,Q=i.isMobile,k=(0,p.useState)(!1),R=k[0],U=k[1],l=(0,p.useState)(!1),S=l[0],V=l[1],a=(0,D.s)({showCurrentLocationOption:!0,defaultOptions:j,onSelectItem:(M=L(w().mark(function a(b){var c,d,e,f,g,h,i,j,k,l;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.length||P.setValues(N({},P.values,{src:void 0,srcPlaceId:"",srcText:"",srcState:void 0})),!((null===(c=b[0])|| void 0===c?void 0:c.name)&&(null==b?void 0:null===(d=b[0])|| void 0===d?void 0:d.id)&&(null===(e=b[0])|| void 0===e?void 0:e.state_id))){a.next=9;break}return a.next=6,(0,E.P)(null===(f=b[0])|| void 0===f?void 0:f.name);case 6:l=a.sent,P.setValues(N({},P.values,{src:null==b?void 0:null===(g=b[0])|| void 0===g?void 0:g.id,srcPlaceId:null===(h=l[0])|| void 0===h?void 0:h.place_id,srcText:"".concat(null===(i=b[0])|| void 0===i?void 0:i.name,",").concat(null===(j=b[0])|| void 0===j?void 0:j.state),srcState:null===(k=b[0])|| void 0===k?void 0:k.state_id})),T&&setTimeout(function(){return P.submitForm()},0);case 9:Q&&U(!1);case 10:case"end":return a.stop()}},a)})),function(a){return M.apply(this,arguments)})}),m=a.isSearchLoading,f=a.labelKey,n=a.onFocus,q=a.onItemSelected,r=a.onSearchInput,t=a.searchOptions,u=a.searchText,W=a.setSelectedItem,d=a.selectedItem,b=(0,D.s)({showCurrentLocationOption:!0,defaultOptions:j,onSelectItem:(O=L(w().mark(function a(b){var c,d,e,f,g,h,i,j,k;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.length||P.setValues(N({},P.values,{dest:void 0,destPlaceId:"",destText:"",destState:void 0})),!((null===(c=b[0])|| void 0===c?void 0:c.name)&&(null==b?void 0:null===(d=b[0])|| void 0===d?void 0:d.id))){a.next=9;break}return a.next=6,(0,E.P)(null===(e=b[0])|| void 0===e?void 0:e.name);case 6:k=a.sent,P.setValues(N({},P.values,{dest:null==b?void 0:null===(f=b[0])|| void 0===f?void 0:f.id,destPlaceId:null===(g=k[0])|| void 0===g?void 0:g.place_id,destText:"".concat(null===(h=b[0])|| void 0===h?void 0:h.name,",").concat(null===(i=b[0])|| void 0===i?void 0:i.state),destState:null===(j=b[0])|| void 0===j?void 0:j.state_id})),T&&setTimeout(function(){return P.submitForm()},0);case 9:Q&&V(!1);case 10:case"end":return a.stop()}},a)})),function(a){return O.apply(this,arguments)})}),v=b.isSearchLoading,g=b.labelKey,x=b.onFocus,y=b.onItemSelected,z=b.onSearchInput,I=b.searchOptions,K=b.searchText,e=b.selectedItem,X=b.setSelectedItem;return(0,p.useEffect)(function(){P.values.src&&P.values.srcState&&W({id:P.values.src,name:P.values.srcText.split(",")[0],state:P.values.srcText.split(",")[1],state_id:P.values.srcState}),P.values.dest&&P.values.destState&&X({id:P.values.dest,name:P.values.destText.split(",")[0],state:P.values.destText.split(",")[1],state_id:P.values.destState})},[P.values]),(0,o.jsxs)("div",{className:A().loadLocationFormFields,children:[Q?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(J,{children:(0,o.jsx)("div",{className:A().sourceCity,"data-val":"sourceCity",onClick:function(){return U(!0)},children:(0,o.jsx)(F.Z,{containerClassName:A().inputContainer,inputWrapperClassName:A().inputWrapper,inputClassName:A().inputField,labelText:c("loadPosting.fields.pickup_location"),value:d&&f(d),name:B.vW.src,type:"text"})})}),(0,o.jsx)(J,{children:(0,o.jsx)("div",{className:A().destCity,"data-val":"destiationCity",onClick:function(){return V(!0)},children:(0,o.jsx)(F.Z,{containerClassName:A().inputContainer,inputWrapperClassName:A().inputWrapper,inputClassName:A().inputField,labelText:c("loadPosting.fields.drop_location"),value:e&&g(e),name:B.vW.dest,type:"text"})})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(J,{children:(0,o.jsx)(G.Z,{isLoading:m,id:B.vW.src,onFocus:n,onSearch:r,onSelectItem:q,options:t,searchText:u,selectedItem:d,labelKey:f,minLength:0,containerClassName:A().inputContainer,inputClassName:A().sourceInput,labelText:c("loadPosting.fields.source_location")})}),(0,o.jsx)(J,{children:(0,o.jsx)(G.Z,{isLoading:v,id:B.vW.dest,onFocus:x,onSearch:z,onSelectItem:y,options:I,searchText:K,selectedItem:e,labelKey:g,minLength:0,containerClassName:A().inputContainer,inputClassName:A().destInput,labelText:c("loadPosting.fields.destination_location")})})]}),(0,o.jsx)(H.Z,{id:B.vW.src,isLoading:m,isVisible:!!R,onClickBackBtn:function(){return U(!1)},onSearch:r,onSelectItem:q,options:t,labelKey:f,selectedItem:d,searchText:u,onFocus:n,placeholder:"Enter Source Location"}),(0,o.jsx)(H.Z,{id:B.vW.dest,isLoading:v,isVisible:!!S,onClickBackBtn:function(){return V(!1)},onSearch:z,onSelectItem:y,options:I,labelKey:g,selectedItem:e,searchText:K,onFocus:x,placeholder:"Enter Destination Location"})]})},i=a(38307),P=a.n(i),Q=a(49139),R=a(52158),S=a(95432);function T(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var U=function(b){var a=b.formik,e=b.editForm,c=(0,s.$G)(["common"]).t,d=function(c){var b;(null==a?void 0:a.values)&&a.setValues(function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){T(d,a,c[a])})}return d}({},a.values,(T(b={},B.XT.lorryType,B.vf.lorryType),T(b,B.XT.lorryCapacity,B.vf.lorryCapacity),T(b,B.XT.lorrySize,B.vf.lorrySize),T(b,B.XT.lorryBodyType,B.vf.lorryBodyType),T(b,B.XT.lorryTyres,B.vf.lorryTyres),T(b,B.XT.sizeText,B.vf.sizeText),T(b,B.vW.paymentType,B.vf.paymentType),T(b,B.vW.advanceAmount,B.vf.advanceAmount),T(b,B.vW.length,B.vf.length),T(b,B.vW.breadth,B.vf.breadth),T(b,B.vW.height,B.vf.height),T(b,B.vW.quantityType,c),b)))};return(0,o.jsx)("div",{children:(0,o.jsx)(Q.Z,{formSection:(0,o.jsxs)("div",{className:P().formFields,children:[(0,o.jsx)(O,{formik:a,isActive:!1}),(0,o.jsx)(J,{children:(0,o.jsx)(F.Z,{labelClassName:P().fontSize,inputClassName:P().fontSize,type:"text",labelText:c("loadPosting.fields.material_name"),error:a.errors.material,onChange:a.handleChange,name:B.vW.material,value:a.values.material,isActiveByDefault:!0})}),(0,o.jsx)(J,{className:P().quantityFieldWrapper,children:(0,o.jsxs)("div",{className:P().inputContainer,children:[(0,o.jsx)(F.Z,{labelClassName:P().fontSize,inputClassName:P().fontSize,type:"number",labelText:c("loadPosting.fields.quantity"),error:a.errors.quantity,onChange:a.handleChange,name:B.vW.quantity,value:a.values.quantity||""}),(0,o.jsxs)("div",{className:P().toggleBtnWrap,children:[(0,o.jsx)(S.Z,{value:"Tonne(s)",text:"Tonne(s)",isActive:"Tonne(s)"===a.values.quantityType,width:"94px",onClick:d,classname:P().toggleBtn}),(0,o.jsx)(S.Z,{value:"Kilo Litre(s)",text:"Kilo Litre(s)",width:"88px",onClick:d,isActive:"Kilo Litre(s)"===a.values.quantityType,classname:P().toggleBtn})]})]})})]}),btn:(0,o.jsx)(R.Z,{disabled:!(a.isValid&&a.dirty),btnType:"submit",children:e?"Update":"Next"})})})},j=a(47774),V=a.n(j),W=a(49986),X=a(60177),Y=a(5395),Z=a(53475),$=function(b){var a=b.formik,c=b.finalStep,g=void 0!==c&&c,d=b.isSubmitting,e=function(b){a.setFieldValue(B.vW.isFixedPrice,"fixedPrice"===b)},f=function(b){"0"===b.target.value||a.setFieldValue(B.vW.advanceAmount,void 0),a.handleChange(b),g||setTimeout(function(){return a.submitForm()},0)};return(0,o.jsx)("div",{children:(0,o.jsx)(Q.Z,{formSection:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(J,{className:V().expectedPriceFieldWrapper,children:[(0,o.jsx)("label",{className:V().label,children:"What is your expected price? (Optional)"}),(0,o.jsx)("br",{}),(0,o.jsxs)("span",{className:V().note,children:[(0,o.jsx)("span",{className:V().importantNote,children:"**"})," The price you enter will help Container owners to define their bid price"]}),(0,o.jsxs)("div",{className:V().inputContainer,children:[(0,o.jsx)(F.Z,{name:B.vW.expectedAmount,type:"number",labelText:"",isActiveByDefault:!0,valuePrefix:"\u20B9",value:a.values.expectedAmount||"",error:a.errors.expectedAmount,onChange:a.handleChange,alwaysShowPrefix:!0}),(0,o.jsxs)("div",{className:V().toggleBtnWrap,children:[(0,o.jsx)(S.Z,{value:"fixedPrice",text:"Fixed Price",isActive:!!a.values.isFixedPrice,width:"94px",onClick:e,classname:V().toggleBtn}),(0,o.jsx)(S.Z,{value:"perTonne",text:"Per Tonne",width:"88px",onClick:e,isActive:!a.values.isFixedPrice,classname:V().toggleBtn})]})]})]}),(0,o.jsxs)(J,{className:V().paymentTypeFieldWrapper,children:[(0,o.jsx)("label",{className:V().label,children:"Would you like to pay to a lorry owner?"}),(0,o.jsxs)("div",{className:V().btnWrapper,children:[(0,o.jsx)(W.Z,{name:B.vW.paymentType,labelText:X.dh[0],value:0,isChecked:"Advance"===X.dh[a.values.paymentType],onChange:f,className:V().radioBtn,labelClassName:V().radioLabel}),(0,o.jsx)(W.Z,{name:B.vW.paymentType,labelText:X.dh[1],value:1,isChecked:"To Pay"===X.dh[a.values.paymentType],onChange:f,className:V().radioBtn,labelClassName:V().radioLabel})]})]}),"Advance"===X.dh[a.values.paymentType]?(0,o.jsxs)(J,{className:V().advanceAmountFieldWrapper,children:[(0,o.jsxs)("label",{className:V().label,children:["Advance ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(F.Z,{name:B.vW.advanceAmount,type:"number",labelText:"",valueSuffix:"in % percentage",value:a.values.advanceAmount||"",error:a.errors.advanceAmount,onChange:function(b){a.handleChange(b)},alwaysShowSuffix:!0,suffixClassName:V().advanceFieldSuffix,inputClassName:V().advanceAmountInput,prefixClassName:V().advanceFieldPrefix,isActiveByDefault:"Advance"===X.dh[a.values.paymentType]})]}):(0,o.jsx)(o.Fragment,{}),a.values.paymentType?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(J,{children:(0,o.jsx)(Y.Z,{labelText:"It\u2019s a ODC Consignment",labelClass:V().labelClassName,isChecked:a.values.is_odc,onChange:function(b){a.setFieldValue(B.vW.is_odc,b)}})}),a.values.is_odc?(0,o.jsx)(J,{className:V().odcFieldWrapper,children:(0,o.jsxs)("div",{className:V().odcFields,children:[(0,o.jsx)(F.Z,{name:B.vW.length,type:"number",isRequired:!0,labelText:"Length(L)",isActiveByDefault:!0,valueSuffix:"Mts",value:a.values.length||"",error:a.errors.length,onChange:a.handleChange,className:V().odcField,labelClassName:V().labelClassName,suffixClassName:t()(V().suffixClassName,a.errors.length&&V().error),containerClassName:t()(V().containerClassName,a.errors.length&&V().error),inputClassName:V().inputClassName}),(0,o.jsx)(F.Z,{name:B.vW.breadth,type:"number",isRequired:!0,labelText:"Breadth(B)",valueSuffix:"Mts",value:a.values.breadth||"",error:a.errors.breadth,onChange:a.handleChange,className:V().odcField,labelClassName:V().labelClassName,suffixClassName:t()(V().suffixClassName,a.errors.breadth&&V().error),containerClassName:t()(V().containerClassName,a.errors.breadth&&V().error),inputClassName:V().inputClassName}),(0,o.jsx)(F.Z,{name:B.vW.height,type:"number",isRequired:!0,labelText:"Heigth(H)",valueSuffix:"Mts",value:a.values.height||"",error:a.errors.height,onChange:a.handleChange,className:V().odcField,labelClassName:V().labelClassName,suffixClassName:t()(V().suffixClassName,a.errors.height&&V().error),containerClassName:t()(V().containerClassName,a.errors.height&&V().error),inputClassName:V().inputClassName})]})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(J,{className:V().remarksFieldWrapper,children:(0,o.jsx)(Z.Z,{name:B.vW.remarks,labelText:"",placeholder:"Enter you comments here",value:a.values.remarks||"",onChange:a.handleChange,className:V().remarksInputBox,inputWrapperClassName:V().textAreaWrapper,inputTextAreaClassName:V().textAreaInput})})]}):(0,o.jsx)(o.Fragment,{})]}),btn:g&&(0,o.jsx)(R.Z,{disabled:d||!(a.isValid&&a.dirty),btnType:"submit",children:d?"Submitting...":"Post Load"})})})};function _(){return(_=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aa=function(a){return p.createElement("svg",_({width:60,height:60,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),m||(m=p.createElement("circle",{cx:30,cy:30,r:29.5,fill:"#f6f6f6"})),n||(n=p.createElement("path",{d:"M38.913 36.685L32.228 30l6.685-6.685a1.576 1.576 0 00-2.228-2.229L30 27.773l-6.685-6.685a1.576 1.576 0 00-2.229 2.228L27.773 30l-6.685 6.685a1.576 1.576 0 002.228 2.228L30 32.228l6.685 6.685a1.576 1.576 0 002.228-2.228z",fill:"#666",stroke:"#666",strokeWidth:.6})))},ab=a(7941),ac=a(63118),ad=a(42442),ae=a(63451),af=a(16204);function ag(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function ah(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function ai(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aj(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){ai(d,a,c[a])})}return d}function ak(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||al(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(a,c){if(a){if("string"==typeof a)return ag(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ag(a,c)}}var am=function(b){var a=b.activeStep,s=b.closeModal,A=b.addAdditionalNodeInSteps;b.childFunc;var t,u,d,e,f,g,D=(0,r.useRouter)(),F=(0,p.useRef)(),c=(0,p.useContext)(C.I),G=c.companyId,H=c.customerCompanyId,I=c.userId,J=c.name,h=(0,p.useState)(),K=h[0],L=h[1],i=(0,p.useState)(),M=i[0],N=i[1],j=(0,p.useState)(!1),P=j[0],Q=j[1],R=(0,ab.Qc)().mutateAsync,k=a.toLowerCase()===B.y5.LOAD_LOCATION_DETAILS.toLowerCase(),l=a.toLowerCase()===B.y5.LOAD_INFO.toLowerCase(),m=a.toLowerCase()===B.y5.VEHICLE_TYPE.toLowerCase(),n=a.toLowerCase()===B.y5.PAYMENT_DETAILS.toLowerCase(),q=a.toLowerCase()===B.y5.ADVANCE_AMOUNT.toLowerCase(),v=(u=(t=w().mark(function a(){var b,c,d,e,f,g,h,i,j,o;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=null==K?void 0:K.values,!k){a.next=5;break}D.query[ae.x.PARAM_NAME]=B.y5.LOAD_INFO,D.push(D,void 0,{shallow:!0,scroll:!1}),a.next=41;break;case 5:if(!l){a.next=9;break}D.query[ae.x.PARAM_NAME]=B.y5.VEHICLE_TYPE,D.push(D,void 0,{shallow:!0,scroll:!1}),b&&A(B.y5.VEHICLE_TYPE,b),a.next=41;break;case 9:if(!m){a.next=13;break}0===Number(null==K?void 0:K.values.paymentType)||1===Number(null==K?void 0:K.values.paymentType)?D.query[ae.x.PARAM_NAME]=B.y5.ADVANCE_AMOUNT:D.query[ae.x.PARAM_NAME]=B.y5.PAYMENT_DETAILS,D.push(D,void 0,{shallow:!0,scroll:!1}),b&&A(B.y5.PAYMENT_DETAILS,b),a.next=41;break;case 13:if(!n){a.next=17;break}D.query[ae.x.PARAM_NAME]=B.y5.ADVANCE_AMOUNT,D.push(D,void 0,{shallow:!0,scroll:!1}),a.next=41;break;case 17:if(!q){a.next=41;break}if(b){a.next=20;break}return a.abrupt("return");case 20:return Q(!0),a.t0=ak,a.next=24,(0,E.P)(b.srcText);case 24:return a.t1=a.sent,e=(d=(c=(0,a.t0)(a.t1,1))[0]).place_id,a.t2=ak,a.next=31,(0,E.P)(b.destText);case 31:return a.t3=a.sent,h=(g=(f=(0,a.t2)(a.t3,1))[0]).place_id,a.next=37,(0,ab.O5)(R,{loadVals:{qty:b.quantity,len:b.length,breadth:b.breadth,height:b.height,material:b.material,isOdc:b.is_odc,lorryTypeId:b.lorryType,src:b.src,dest:b.dest,srcPlaceId:e,destPlaceId:h,isFixedPrice:b.isFixedPrice,amount:b.expectedAmount,paymentType:0==b.paymentType?"0":"1",remarks:b.remarks,totalTyres:b.lorryTyres||0,bodyType:b.lorryBodyType||0,size:b.lorrySize||0,advancePaymentPercentage:b.advanceAmount||0,sizeText:b.sizeText},companyId:Number(H||G),isReposted:!1});case 37:j=(i=a.sent).success,o=i.loadId,j?(s(),ac.A.success("Your Load has been posted successfully!"),(0,af.zs)(X.wQ.Post_load_success,{user_name:J,user_number:I,source_page:X.fH.my_loads_post_load}),void 0===H?(D.query.id=o,D.push(aj({},D),void 0,{shallow:!0})):H&&D.push(aj({},D,{pathname:X.Z6.adminConsoleMyLoadsMyLorries.getUrl("loads")}))):(s(),ac.A.error("Something went wrong, please try again later!"));case 41:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=t.apply(a,b);function c(a){ah(f,d,e,c,g,"next",a)}function g(a){ah(f,d,e,c,g,"throw",a)}c(void 0)})}),function(){return u.apply(this,arguments)});return(0,p.useEffect)(function(){var b,c=new URLSearchParams(location.search).get(ae.x.PARAM_NAME),a=new URLSearchParams(null===(b=F.current)|| void 0===b?void 0:b.search).get(ae.x.PARAM_NAME);N(!1),c===B.y5.LOAD_INFO&&a===B.y5.VEHICLE_TYPE?(N(!0),null==K||K.setErrors({})):c===B.y5.VEHICLE_TYPE&&(a===B.y5.PAYMENT_DETAILS||a===B.y5.ADVANCE_AMOUNT)?(N(!0),null==K||K.setErrors({})):c===B.y5.LOAD_INFO&&(a===B.y5.PAYMENT_DETAILS||a===B.y5.ADVANCE_AMOUNT)&&(N(!0),null==K||K.setErrors({})),F.current=JSON.parse(JSON.stringify(location))},[location,history]),(0,o.jsxs)("div",{className:y().formWrapper,children:[(0,o.jsxs)("div",{className:y().header,children:[(0,o.jsx)("h2",{children:k||l?"Enter Load Details":m?"Select Vehicle Type":n||q?"Enter Payment Details":void 0}),(0,o.jsx)("div",{className:y().closeIcon,onClick:s,children:(0,o.jsx)(aa,{})})]}),(0,o.jsx)("div",{className:y().form,children:(0,o.jsx)(x.J9,{initialValues:B.vf,onSubmit:v,validationSchema:k?null===(d=ad.J[0].steps[0])|| void 0===d?void 0:d.validations:l?null===(e=ad.J[0].steps[1])|| void 0===e?void 0:e.validations:m?ad.J[1].validations:n?null===(f=ad.J[2].steps[0])|| void 0===f?void 0:f.validations:q?null===(g=ad.J[2].steps[1])|| void 0===g?void 0:g.validations:void 0,children:function(b){var a;return(0,o.jsx)(x.l0,{onChange:function(){return L(b)},onSubmit:function(a){a.preventDefault(),L(b),b.submitForm()},children:(a=b,k?(0,o.jsx)(O,{formik:a,isActive:k}):l?(0,o.jsx)(U,{formik:a,isActive:l,editForm:M}):m?(0,o.jsx)(z.Z,{formik:a,disableNonMatchingUnitsVehicle:a.values.quantityType,editForm:M,isLorryCapacityRequired:!1}):n?(0,o.jsx)($,{formik:a,isActive:n}):q?(0,o.jsx)($,{formik:a,finalStep:!0,isActive:q,isSubmitting:P}):void 0)})}})})]})},an=a(49143),ao=a(14345),ap=a(17892),aq=a(32610),k=a(16266),ar=a.n(k);function as(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function at(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){as(d,a,c[a])})}return d}var au=function(a){var b=a.activeStep,c=a.closeModal,d=(0,s.$G)(["common"]).t,h=(0,r.useRouter)(),f=(0,p.useRef)(),e=(0,p.useState)((0,ap._)(ad.J)),g=e[0],i=e[1],j=function(a){i(function(b){return b.map(function(b,e){if(0===a){var c=at({},b);return c.additionalNode=null,c}if(e!==a)return b;var d=at({},b);return d.additionalNode=null,d})})};return(0,o.jsx)(v.Z,{sidePanel:(0,o.jsx)(u.Z,{steps:g,activeStep:b,header:d("loadPosting.add_new_load"),subHeader:d("please_fill_out_the_following_details"),closeModal:c,stepperFooter:(0,o.jsx)(aq.Z,{})}),mainPanel:(0,o.jsx)(am,{activeStep:b,closeModal:c,addAdditionalNodeInSteps:function(c,a){var d=function(a,b){i(function(c){return c.map(function(c,e){if(e!==b)return c;var d=at({},c);return d.additionalNode=a,d})})};if(c===B.y5.VEHICLE_TYPE)d((0,o.jsxs)("div",{className:ar().editBox,children:[(0,o.jsx)(an.Z,{nodes:[(0,o.jsx)("p",{className:ar().ellipsis,children:a.material}),(0,o.jsxs)("p",{className:t()(ar().ellipsis,ar().quantity),children:[a.quantity," ",a.quantityType]}),(0,o.jsx)("p",{className:t()(ar().ellipsis,a.material.length>15&&ar().srcText),children:a.srcText})]}),(0,o.jsx)("span",{className:ar().editBtn,onClick:function(){h.query[ae.x.PARAM_NAME]=B.y5.LOAD_INFO,h.push(h,void 0,{shallow:!0,scroll:!1}),j(0)},children:"Edit"})]}),0);else if(c===B.y5.PAYMENT_DETAILS){var b=ao.BR.find(function(b){return b.id===a.lorryType}),e=3===a.lorryType||5===a.lorryType?a.lorrySize+" "+a.sizeText:4===a.lorryType?a.lorryTyres+" Tyres":6===a.lorryType?2===Number(a.lorryBodyType)?"Metal Steel":"Stainless Steel":"",f=function(){return 6!==a.lorryTyres?[(0,o.jsx)("p",{className:t()(ar().ellipsis),children:null==b?void 0:b.label}),(0,o.jsx)("p",{className:t()(ar().ellipsis),children:1===a.lorryBodyType?"Open Full Body":"Open Half Body"}),(0,o.jsx)("p",{className:t()(ar().ellipsis),children:a.lorryTyres+" Tyres"})]:[(0,o.jsx)("p",{className:t()(ar().ellipsis,ar().truckData),children:null==b?void 0:b.label}),(0,o.jsx)("p",{className:t()(ar().ellipsis,ar().truckData),children:1===a.lorryBodyType?"Open Full Body":"Open Half Body"}),(0,o.jsx)("p",{className:t()(ar().ellipsis,ar().truckData),children:a.lorryTyres+" Tyres"}),(0,o.jsx)("p",{className:t()(ar().ellipsis,ar().truckData),children:a.lorrySize+" feet"})]};d((0,o.jsxs)("div",{className:ar().editBox,children:[1===a.lorryType?(0,o.jsx)("div",{className:ar().truckStepperData,children:(0,o.jsx)(an.Z,{nodes:f()})}):e?(0,o.jsx)(an.Z,{nodes:[(0,o.jsx)("p",{children:null==b?void 0:b.label}),(0,o.jsx)("p",{children:e})]}):(0,o.jsx)("p",{children:null==b?void 0:b.label}),(0,o.jsx)("span",{className:ar().editBtn,onClick:function(){h.query[ae.x.PARAM_NAME]=B.y5.VEHICLE_TYPE,h.push(h,void 0,{shallow:!0,scroll:!1}),j(1)},children:"Edit"})]}),1)}},childFunc:f})})},av=a(96001),aw=a(43214),ax=function(){var a=(0,r.useRouter)(),d=(0,p.useContext)(C.I).isMobile,b=a.query[ae.x.PARAM_NAME],c=function(){delete a.query[ae.x.PARAM_NAME],a.push(a,(0,aw.j)(a.query),{shallow:!0,scroll:!1})};return(0,p.useEffect)(function(){a.asPath.includes(ae.x.PARAM_NAME)&&(a.query[ae.x.PARAM_NAME]=B.y5.LOAD_LOCATION_DETAILS,a.push(a,(0,aw.j)(a.query),{shallow:!0,scroll:!1}))},[]),(0,o.jsx)(av.default,{isOpen:a.asPath.includes(ae.x.PARAM_NAME),toggle:c,showHeader:!1,bodyClassName:q().modalBody,modalDialogClass:q().modalDialog,isFullscreen:d,children:b&&(0,o.jsx)(au,{activeStep:b,closeModal:c})})}},93281:function(a){a.exports={fieldWrapper:"FieldWrapper_fieldWrapper__Y8vDa"}},16266:function(a){a.exports={editBox:"LoadPosting_editBox__szJ8q",editBtn:"LoadPosting_editBtn__O1PHx",ellipsis:"LoadPosting_ellipsis__U_c4X",quantity:"LoadPosting_quantity__8VB5y",srcText:"LoadPosting_srcText__AxC7C",truckStepperData:"LoadPosting_truckStepperData__27Km1",truckData:"LoadPosting_truckData__0oN6Q"}},38307:function(a){a.exports={quantityFieldWrapper:"LoadDetailsFormFields_quantityFieldWrapper__ZjfMB",inputContainer:"LoadDetailsFormFields_inputContainer__6EvnR",toggleBtnWrap:"LoadDetailsFormFields_toggleBtnWrap__X6R6m",toggleBtn:"LoadDetailsFormFields_toggleBtn__o1Fuw"}},49604:function(){},47774:function(a){a.exports={label:"PaymentDetailsFormFields_label__lSpG1",note:"PaymentDetailsFormFields_note__5GSnG",importantNote:"PaymentDetailsFormFields_importantNote__6jTQg",expectedPriceFieldWrapper:"PaymentDetailsFormFields_expectedPriceFieldWrapper__P6oiv",inputContainer:"PaymentDetailsFormFields_inputContainer__LrGgR",toggleBtnWrap:"PaymentDetailsFormFields_toggleBtnWrap__RIhSA",toggleBtn:"PaymentDetailsFormFields_toggleBtn__AhIZC",paymentTypeFieldWrapper:"PaymentDetailsFormFields_paymentTypeFieldWrapper__yf7LX",btnWrapper:"PaymentDetailsFormFields_btnWrapper__UKgOA",advanceAmountFieldWrapper:"PaymentDetailsFormFields_advanceAmountFieldWrapper__UOkzm",advanceFieldPrefix:"PaymentDetailsFormFields_advanceFieldPrefix__LHtxG",advanceAmountInput:"PaymentDetailsFormFields_advanceAmountInput__RA55a",advanceFieldSuffix:"PaymentDetailsFormFields_advanceFieldSuffix__0UhbF",labelClassName:"PaymentDetailsFormFields_labelClassName___F6pO",odcFieldWrapper:"PaymentDetailsFormFields_odcFieldWrapper__9rulm",odcFields:"PaymentDetailsFormFields_odcFields__bYuhn",containerClassName:"PaymentDetailsFormFields_containerClassName__03gIj",error:"PaymentDetailsFormFields_error__Nx_li",odcField:"PaymentDetailsFormFields_odcField__iGkdF",inputClassName:"PaymentDetailsFormFields_inputClassName__OMwjF",suffixClassName:"PaymentDetailsFormFields_suffixClassName__7h4KN",remarksFieldWrapper:"PaymentDetailsFormFields_remarksFieldWrapper__h6ltC",textAreaWrapper:"PaymentDetailsFormFields_textAreaWrapper__iNW0N",textAreaInput:"PaymentDetailsFormFields_textAreaInput__b6Fwd"}},53354:function(a){a.exports={formWrapper:"LoadPostingForm_formWrapper__Ql0ek",header:"LoadPostingForm_header__mSZvd",closeIcon:"LoadPostingForm_closeIcon__gZfhj"}},85849:function(a){a.exports={modalDialog:"StandaloneLoadPostingFormModal_modalDialog__E1SYa",modalBody:"StandaloneLoadPostingFormModal_modalBody__UmY8l"}}}])
//# sourceMappingURL=4418-db867a1ee126c473.js.map